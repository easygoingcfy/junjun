1. 项目简介
本项目旨在开发一个基于 Python + SQLite 的本地化 A 股选股分析工具，具备历史数据采集、数据库管理、自定义策略组合筛选等功能，支持多因子打分、技术面/基本面/热度面等多维选股逻辑，为用户提供灵活可扩展的个性化选股能力。

2. 技术栈
类型	工具 / 技术
编程语言	Python 3.x
数据库	SQLite
第三方数据接口	东方财富、同花顺、掘金、TuShare（推荐）、AkShare（开源）等
数据可视化	Matplotlib / Plotly / PyQtGraph（可选）
形态识别	TA-Lib / 自定义算法
UI（可选）	Streamlit / PyQt / Tkinter / Web
自动化调度（可选）	APScheduler / cron

3. 功能需求
3.1 数据获取与存储
✅ 支持市场
A股主板、科创板、创业板

✅ 历史数据
日线数据（OHLCV）

周线、月线

附加字段：换手率、振幅、量比、流通市值， 量能

✅ 实时数据（可选）
支持获取最新一日数据并入库

✅ 数据接口模块
使用开源或免费数据接口（如 TuShare Pro、AkShare）

可按股票代码或板块批量抓取历史行情

✅ 数据存储
SQLite 本地数据库

表结构设计规范（stock_info、daily_kline、financials、heat_data、custom_tags 等）

支持分表优化和索引提升性能

可选：支持缓存每日最新数据或增量更新

3.2 自定义选股策略
✅ 技术面分析
K线形态识别（如锤头、吞没、启明星等）

均线系统：

当前价格不破 5/10/20 日线

调整中：当前低点未破前高

成交量变化：

放量突破、缩量回调等

支持 TA-Lib 指标（MACD、RSI、KDJ、BOLL、MA、OBV 等）

✅ 基本面筛选
市盈率（PE）区间过滤，支持正负值

每股收益（EPS）、ROE、净利率、负债率、营收增长率

支持近三年同比增长趋势判断

✅ 热度面分析
股票搜索热度（使用百度指数 / 今日头条 / 雪球话题热度等接口）

新闻资讯数量（可抓取新浪财经、雪球、东方财富等）

板块热度趋势分析（同花顺概念板块指数变化）

3.3 策略逻辑引擎
✅ 筛选方式
支持 "满足全部条件" 与 "满足任一条件" 的组合模式

多条件组合与逻辑表达式支持（如 (A and B) or C）

✅ 多因子评分
每个因子自定义打分（如 RSI>50 加3分，EPS>1 加5分）

综合评分排名，支持设定筛选阈值

✅ 策略定义方式
脚本配置文件（如 JSON / YAML / Python 函数）

可视化逻辑构建器（未来扩展支持拖拽式模块）

3.4 输出与可视化
支持选股结果导出为 CSV / Excel

支持个股图表展示（K线、均线、成交量、热点评分等）

筛选结果排名、评分展示

可选：通过 Web 前端（Streamlit）实现可交互式操作界面

3.5 其他功能（可扩展）
股票池管理：自定义关注股票池 / 板块池

历史策略回测（基础）

定时任务：每日开盘前自动更新数据并输出选股结果

多线程数据抓取优化

4. 数据库设计概要（初稿）
表 stock_info
字段	说明
ts_code	股票代码
name	股票简称
industry	所属行业
list_date	上市日期

表 daily_kline
字段	说明
ts_code	股票代码
trade_date	交易日期
open	开盘价
high	最高价
low	最低价
close	收盘价
vol	成交量
turnover_rate	换手率

表 financials
字段	说明
ts_code	股票代码
report_date	报告期
pe	市盈率
eps	每股收益
roe	净资产收益率
debt_ratio	负债率

表 heat_data
字段	说明
ts_code	股票代码
date	日期
search_score	搜索热度
news_count	新闻数量